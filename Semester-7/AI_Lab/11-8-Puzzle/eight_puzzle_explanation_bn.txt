
рзо-ржкрж╛ржЬрж▓ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо (8-puzzle problem) тАФ Prolog ржмрзНржпрж╛ржЦрзНржпрж╛рж╕рж╣

ЁЯзй рж╕ржорж╕рзНржпрж╛рж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржмрж┐ржмрж░ржг:
8-puzzle ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕рж┐ржХ рж╕ржорж╕рзНржпрж╛ ржпрзЗржЦрж╛ржирзЗ 3x3 ржЧрзНрж░рж┐ржбрзЗ рзоржЯрж┐ ржЯрж╛ржЗрж▓ ржПржмржВ ржПржХржЯрж┐ ржЦрж╛рж▓рж┐ ржЬрж╛рзЯржЧрж╛ ржерж╛ржХрзЗред рж▓ржХрзНрж╖рзНржп рж╣рж▓рзЛ ржЯрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ рж╕ржарж┐ржХ ржХрзНрж░ржорзЗ рж╕рж╛ржЬрж╛ржирзЛ ржпрж╛рждрзЗ ржЦрж╛рж▓рж┐ ржЬрж╛рзЯржЧрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж░рж┐рзЯрзЗ ржЧрж┐рзЯрзЗ рж▓ржХрзНрж╖рзНржп ржЕржмрж╕рзНржерж╛рзЯ ржкрзМржБржЫрж╛ржирзЛ ржпрж╛рзЯред

---------------------------
ЁЯЯй рж╕рзНржЯрзЗржЯ рж░рж┐ржкрзНрж░рзЗржЬрзЗржирзНржЯрзЗрж╢ржи
---------------------------
initial_state([1, 2, 3, 4, 5, 6, 7, 8, 0]).
goal_state([1, 2, 3, 4, 5, 6, 7, 8, 0]).

ржПржЦрж╛ржирзЗ `0` рж╣ржЪрзНржЫрзЗ ржлрж╛ржБржХрж╛ ржЬрж╛рзЯржЧрж╛ред ржПржХрзЗ ржЖржорж░рж╛ ржШрзБрж░рж┐рзЯрзЗ ржЯрж╛ржЗрж▓ржЧрзБрж▓рзЛрж░ ржЕржмрж╕рзНржерж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмред

---------------------------
тЮбя╕П ржорзБржн ржЕржкрж╛рж░рзЗрж╢ржи
---------------------------
move(...) :- ...
ржкрзНрж░рждрж┐ржЯрж┐ move ржкрзНрж░рзЗржбрж┐ржХрзЗржЯрзЗ blank tile (рзж) ржХрж┐ржнрж╛ржмрзЗ ржПржХ ржШрж░ ржЙржкрж░рзЗ/ржирж┐ржЪрзЗ/ржмрж╛ржорзЗ/ржбрж╛ржирзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

ржЙржжрж╛рж╣рж░ржг:
move([A, B, C, D, E, F, G, H, 0], [A, B, C, D, 0, F, G, H, E]).
тЖС ржирж┐ржЪрзЗрж░ ржбрж╛ржиржжрж┐ржХ ржерзЗржХрзЗ рзж ржХрзЗ ржПржХ ржШрж░ ржмрж╛ржорзЗ ржирзЗржУрзЯрж╛ рж╣ржЪрзНржЫрзЗ

---------------------------
ЁЯФБ DFS (Depth-First Search)
---------------------------
solve(State, Path) :-
    goal_state(Goal),
    dfs(State, Goal, [State], Path).

dfs(...) :- ...
тЖТ ржПржЯрж┐ рж░рж┐ржХрж╛рж░рзНрж╕рж┐ржн ржкржжрзНржзрждрж┐рждрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржпрзЗржЯрж╛ ржПржХржжржо ржЧржнрзАрж░ ржкрж░рзНржпржирзНржд ржпрж╛рзЯ ржПржмржВ рж▓ржХрзНрж╖рзНржп ржЕржмрж╕рзНржерж╛рзЯ ржкрзМржБржЫрж╛рж▓рзЗ ржлрж┐рж░рзЗ ржЖрж╕рзЗ

Visited рж▓рж┐рж╕рзНржЯ рж░рж╛ржЦрж╛ рж╣ржЪрзНржЫрзЗ ржпрзЗржи ржПржХржЗ рж╕рзНржЯрзЗржЯ ржЖржмрж╛рж░ ржирж╛ ржЖрж╕рзЗ (cycle ржП ржирж╛ ржкрзЬрзЗ)

---------------------------
ЁЯФН ржХрзБрзЯрзЗрж░рж┐ ржЪрж╛рж▓рж╛рждрзЗ:
---------------------------
?- initial_state(State), solve(State, Path).

ржПржЯрж┐ `State` ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ DFS ржЪрж╛рж▓рж┐рзЯрзЗ `goal_state` ржкрж░рзНржпржирзНржд ржпрж╛ржмрж╛рж░ ржкрже (Path) ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░ржмрзЗред

ЁЯУж ржЙржжрж╛рж╣рж░ржг ржЖржЙржЯржкрзБржЯ:
Path = [
    [1, 2, 3, 4, 5, 6, 7, 8, 0]
]
(ржПржЯрж┐ ржЗрждрзЛржоржзрзНржпрзЗ goal_state рж╣ржУрзЯрж╛рзЯ рж╕рж░рж╛рж╕рж░рж┐ ржЙрждрзНрждрж░ ржкрж╛ржмрзЗ)
